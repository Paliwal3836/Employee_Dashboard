<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Dashboard</title>
    <style>
        body {
    font-family: 'Times New Roman', Times, serif;
    background-color: #f0f0f0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
}

.dashboard {
    background: #fff;
    padding: 50px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    text-align: center;
    width: 90%; /* Adjust for kiosk */
    max-width: 1200px; /* Maximum width */
}

.dashboard h1 {
    margin-bottom: 30px;
    font-size: 32px; /* Increased title height */
    font-weight: bold; /* Made title bold */
}

.button-container {
    display: grid;
    grid-template-columns: repeat(5, 150px); /* 5 columns, each 150px wide */
    gap: 40px; /* Space between buttons */
    justify-content: center;
}

.employee-btn {
    margin: 10px;
    padding: 0; /* Remove padding */
    background-color: transparent; /* Transparent background */
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: transform 0.2s;
    width: 150px; /* Adjust size */
    height: 150px; /* Adjust size */
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    box-sizing: border-box;
}

.employee-btn img {
    width: 150px; /* Fixed width */
    height: 200px; /* Fixed height */
    object-fit: cover;
    border-radius: 10px;
}

.employee-btn:hover {
    transform: scale(1.05); /* Slight zoom effect on hover */
}

.popup {
    display: none;
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
}

.popup-content {
    background-color: #fff;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    text-align: center;
    position: relative;
    width: 90%; /* Adjust for kiosk */
    max-width: 400px; /* Maximum width */
}

.close {
    position: absolute;
    top: 10px;
    right: 10px;
    color: #aaa;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}

.popup-content h2 {
    margin-bottom: 20px;
}

.popup-content form {
    display: flex;
    flex-direction: column;
}

.popup-content form label {
    margin: 10px 0 5px;
    text-align: left;
}

.password-container {
    position: relative;
    margin-bottom: 15px;
}

.popup-content form input {
    padding: 10px;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 5px;
    width: 100%;
}

.toggle-password {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-20%);
    cursor: pointer;
    font-size: 18px;
}

.popup-content form button {
    padding: 15px 20px;
    font-size: 16px;
    background-color: #28a745;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}

.popup-content form button:hover {
    background-color: #218838;
}

    </style>
</head>
<body>
    <div class="dashboard">
        <h1>Employee Dashboard</h1>
        <div class="button-container">
            <!-- Replace with actual image URLs -->
            <button class="employee-btn" onclick="openPopup('Durgeshkumar Sharma')"><img src="https://github.com/Paliwal3836/Employee_Dashboard/blob/main/Bajirav.jpg" alt="Durgeshkumar Sharma"></button>
            <button class="employee-btn" onclick="openPopup('Prakash Gomane')"><img src="Prakash.jpg" alt="Prakash Gomane"></button>
            <button class="employee-btn" onclick="openPopup('Shiva Mandal')"><img src="images/shiva.jpg" alt="Shiva Mandal"></button>
            <button class="employee-btn" onclick="openPopup('Loon Singh')"><img src="images/loon.jpg" alt="Loon Singh"></button>
            <button class="employee-btn" onclick="openPopup('Madan Thapa')"><img src="images/madan.jpg" alt="Madan Thapa"></button>
            <button class="employee-btn" onclick="openPopup('Kamruddin Choudhary')"><img src="images/kamruddin.jpg" alt="Kamruddin Choudhary"></button>
            <button class="employee-btn" onclick="openPopup('Pratap Jani')"><img src="images/pratap.jpg" alt="Pratap Jani"></button>
            <button class="employee-btn" onclick="openPopup('Pana Jani')"><img src="images/pana.jpg" alt="Pana Jani"></button>
            <button class="employee-btn" onclick="openPopup('Manik Patil')"><img src="images/manik.jpg" alt="Manik Patil"></button>
            <button class="employee-btn" onclick="openPopup('Ramesh Godam')"><img src="images/ramesh.jpg" alt="Ramesh Godam"></button>
            <button class="employee-btn" onclick="openPopup('Gandu Jani')"><img src="Gandu.jpg" alt="Gandu Jani"></button>
            <button class="employee-btn" onclick="openPopup('Rampriya Kumar')"><img src="images/rampriya.jpg" alt="Rampriya Kumar"></button>
            <button class="employee-btn" onclick="openPopup('Rupesh Kumar')"><img src="images/rupesh.jpg" alt="Rupesh Kumar"></button>
            <button class="employee-btn" onclick="openPopup('Bajirav Kite')"><img src="C:\Users\Admin\Desktop\AOPL\Employee Data\Bajirav Kite\Bajirav.jpg" alt="Bajirav Kite"></button>
            <button class="employee-btn" onclick="openPopup('Shiv Pujan')"><img src="images/shiv.jpg" alt="Shiv Pujan"></button>
            <button class="employee-btn" onclick="openPopup('Manish Yadav')"><img src="images/manish.jpg" alt="Manish Yadav"></button>
            <button class="employee-btn" onclick="openPopup('Manish Kumar')"><img src="Manish.jpg" alt="Manish Kumar"></button>
            <!-- Add more buttons as needed -->
        </div>
    </div>

    <div id="popup" class="popup">
        <div class="popup-content">
            <span class="close" onclick="closePopup()">&times;</span>
            <h2 id="employeeName"></h2>
            <form id="loginForm" onsubmit="handleSubmit(event)">
                <div class="password-container">
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="password" required>
                    <span class="toggle-password" onclick="togglePasswordVisibility()">üëÅÔ∏è</span>
                </div>
                <button type="submit">Submit</button>
            </form>
        </div>
    </div>

    <script>
        let employeeName = '';

        function openPopup(name) {
            document.getElementById('employeeName').innerText = name;
            employeeName = name;
            document.getElementById('password').value = ''; // Clear the password field
            document.getElementById('popup').style.display = 'flex';
        }

        function closePopup() {
            document.getElementById('popup').style.display = 'none';
        }

        function togglePasswordVisibility() {
            const passwordInput = document.getElementById('password');
            const type = passwordInput.type === 'password' ? 'text' : 'password';
            passwordInput.type = type;
        }

        async function handleSubmit(event) {
        event.preventDefault();
        const password = document.getElementById('password').value;

        console.log('Submitting Credentials:', { name: employeeName, password }); // Log submitted credentials

            try {
                const response = await fetch('/api/validate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ name: employeeName, password: password })
                });

                const result = await response.json();

                if (result.status === 'success') {
                const encodedEmployeeName = encodeURIComponent(employeeName);
                const fullUrl = `https://creatorapp.zohopublic.com/akshayorganics/planning-v2/report-perma/Job_Data_Operation_Report_For_Operators/Th6KODvOkuQz1Paf4KMmMh1YejNV7bRdUwrVBhGq5OOhfsb3XJsQ8AGOq9Ju10hE5ppjKQ5e1fxPqtPnPvXvWX6fQ42Y18TG52Xx?Operator_Name=${encodedEmployeeName}`;
                alert('You are being directed to your report.');
                window.location.href = fullUrl;
                closePopup();
                } else {
                        alert(result.message);
                        document.getElementById('password').value = '';
                        }
                } catch (error) {
                                console.error('Error:', error);
                                alert('An error occurred. Please try again.');
                                }
}

    </script>
</body>
</html>
